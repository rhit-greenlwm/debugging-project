
# TLDR Python Client

| Hypothesis                                                                                | Prediction                                                                                     | Experiment                                                            | Observation                                                          | Conclusion                                                          |
| ----------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- | -------------------------------------------------------------------- | ------------------------------------------------------------------- |
| The issue is with the `--platform` argument not being parsed correctly.                   | The platform argument will not appear in the parsed options.                                   | Print `options.platform` during `main()` execution.                   | The platform is parsed and passed correctly.                         | Rejected. The platform argument works as expected.                  |
| The CLI skips fallback to `common` when a specific platform is passed.                    | When passing `--platform windows`, the page will not be found if only a common version exists. | Used `--platform windows` for a command that only exists in `common`. | Returns "documentation is not available" error.                      | The fallback logic is skipped when platform is explicitly provided. |
| The `get_page_for_every_platform` function already appends `common` to the platform list. | The code will show common being appended when a platform is passed.                            | Inspected the code at `get_page_for_every_platform`.                  | No such logic exists. If platforms is provided, it uses it directly. | This is probably the root cause.                                    |
| Changing the fallback logic to always include `common` will fix the issue.                | Append common if not in list, and test again.                                                  | Changed `get_page_for_every_platform()` to include common.            | `--platform windows` now returns the correct page.                   | Fix confirmed                                                       |
| Maybe it would be better to append common inside `get_platform_list()` instead.           | Doing so would generalize the fix.                                                             | Tried appending common in `get_platform_list`.                        | Breaks other logic I think. Test started failing.                    | Rejected. Better to handle in `get_page_for_every_platform()`.      |



# HTTPie CLI

| Hypothesis                                                                                                                                   | Prediction                                                                                           | Experiment                                                                                             | Observation                                                                                              | Conclusion                                                                                                                         |
| -------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| When we are processing data in HTTPie, we are converting character sequences into literal characters, despite them being in the json format. | The header, `Content-Type: text/html` is incorrectly set which could lead to the wrong functionality | Set up a program to replicate the bug and use the python debugger to step through the decoding process | `Content-Type: text/html` is leading to us calling `json.dumps` with the parameter `ensure_ascii=False`. | This is the intended functionality for that content-type. The true bug is that the user's server was sending the incorrect header. |
